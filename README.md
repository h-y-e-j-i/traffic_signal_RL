# ğŸš¥ ê°•í™”í•™ìŠµì„ ì´ìš©í•œ ë„ë¡œ í†µí–‰ ìµœì í™” ì‹ í˜¸ ëª¨ë¸ ğŸš¥
- **ì‹¤ì‹œê°„ìœ¼ë¡œ ì°¨ì„  ë³„ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” â€˜ë„ë¡œê³µê°„â€™ í™˜ê²½ì—ì„œ ê³µê°„ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹ í˜¸ë¥¼ ì¡°ì ˆí•˜ì—¬ ì°¨ëŸ‰ í†µí–‰ì˜ ìµœì í™”ë¥¼ ë‹¬ì„±í•˜ëŠ” ê²ƒ**
  - **ìµœì í™”ì˜ ê¸°ì¤€**ì€ ì°¨ëŸ‰ì˜ ì •ì§€ íšŸìˆ˜ì™€ ëŒ€ê¸° ì‹œê°„ì„ ê°ì†Œí•˜ì—¬ ìµœëŒ€í•œ ì§„ì¶œì°¨ì„ ìœ¼ë¡œ ë¹ ì ¸ë‚˜ê°€ê²Œ í•˜ëŠ” ê²ƒ
  - â€˜**ë„ë¡œê³µê°„**â€™ì€ V2V, V2Iê°€ êµ¬í˜„ë˜ì–´ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë„ë¡œì˜ ì •ì°¨ ì°¨ëŸ‰ ëŒ€ìˆ˜, ì •ì°¨ ì‹œê°„, ì‹ í˜¸ ì •ë³´ ë“±ì˜ ê³µê°„ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” í™˜ê²½

## ğŸ–¥ï¸ ì‚¬ìš© ì–¸ì–´ & API
- **Python**
- **Ray rllib** : ê°•í™”í•™ìŠµ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **SUMO(Simulation of Urban MObility)** : êµí†µ ì‹œë®¬ë ˆì´ì…˜


## ğŸ›£ï¸ í•™ìŠµ í™˜ê²½
<img src="https://user-images.githubusercontent.com/58590260/158842422-26a764f6-926b-46f1-879c-860d860c5777.png" width=50%><br>
- 2ê°œì˜ ë„ë¡œ í™˜ê²½ì—ì„œ ê°ê° ì œì•½ ìˆëŠ” ëª¨ë¸ê³¼ ì—†ëŠ” ëª¨ë¸ë¡œ í•™ìŠµ

## ğŸ¢ íŒŒì¼ êµ¬ì¡°
- case03 : êµì°¨ë¡œ 2ê°œ
- case06 : êµì°¨ë¡œ 6ê°œ(ì´ì²œì‹œ)
```
traffic_signal_RL
â”œâ”€â”€ README.md<br>
â”œâ”€â”€ Icheon_restricted_DQN.py
â”œâ”€â”€ Ichoen_random_DQN.py
â”œâ”€â”€ case03_random_DQN.py
â”œâ”€â”€ case03_restricted_DQN.py
â”œâ”€â”€ environment/
â”‚   â”œâ”€â”€ test/
â”‚   â”‚   â”œâ”€â”€ case03/
â”‚   â”‚   â”‚   â”œâ”€â”€ case03TestMultiEnv_random_timespace.py
â”‚   â”‚   â”‚   â”œâ”€â”€ case03TestMultiEnv_random_vehicle.py
â”‚   â”‚   â”‚   â”œâ”€â”€ case03TestMultiEnv_restricted_timespace.py
â”‚   â”‚   â”‚   â”œâ”€â”€ case03TestMultiEnv_restricted_vehicle.py
â”‚   â”‚   â”‚   â””â”€â”€ sumo/
â”‚   â”‚   â”‚        â”œâ”€â”€ intersection.net.xml
â”‚   â”‚   â”‚        â”œâ”€â”€ intersection.rou.xml
â”‚   â”‚   â”‚        â””â”€â”€ intersection_test.rou.xml
â”‚   â”‚   â”œâ”€â”€ case06
â”‚   â”‚   â”‚   â”œâ”€â”€ IcheonTestMultiEnv_random_timespace.py
â”‚   â”‚   â”‚   â”œâ”€â”€ IcheonTestMultiEnv_random_vehicle.py
â”‚   â”‚   â”‚   â”œâ”€â”€ IcheonTestMultiEnv_restricted_timespace.py
â”‚   â”‚   â”‚   â”œâ”€â”€ IcheonTestMultiEnv_restricted_vehicle.py
â”‚   â”‚   â”‚   â””â”€â”€ sumo/
â”‚   â”‚   â”‚        â”œâ”€â”€ intersection.net.xml
â”‚   â”‚   â”‚        â”œâ”€â”€ intersection.rou.xml
â”‚   â”‚   â”‚        â””â”€â”€ intersection_test.rou.xml
â”‚   â””â”€â”€ train/
â””â”€â”€ reseults/
   â”œâ”€â”€ checkpoint/
   â”œâ”€â”€ case03_random
   â”‚   â”œâ”€â”€ checkpoint-8001
   â”‚   â””â”€â”€ checkpoint-8001.tune_metadata
   â”œâ”€â”€ case03_restricted/
   â”‚   â”œâ”€â”€ checkpoint-8001
   â”‚   â””â”€â”€ checkpoint-8001.tune_metadata
   â”œâ”€â”€ case06_random/
   â”‚   â”œâ”€â”€ checkpoint-2501
   â”‚   â””â”€â”€ checkpoint-2501.tune_metadata
   â””â”€â”€ case06_restricted
       â”œâ”€â”€ checkpoint-2501
       â””â”€â”€ checkpoint-2501.tune_metadata

```
  


**ğŸ› ï¸ ë„ë¡œ ë„¤íŠ¸ì›Œí¬**

| êµì°¨ë¡œ 2ê°œ | êµì°¨ë¡œ 6ê°œ(ì´ì²œì‹œ) |
| :------------: | :-------------: |
|êµì°¨ë¡œê°€ 2ê°œì¸ ë„ë¡œêµí†µ í™˜ê²½|êµì°¨ë¡œê°€ 6ê°œì¸ ì´ì²œì‹œ ë„ë¡œêµí†µ í™˜ê²½|
|![image](https://user-images.githubusercontent.com/58590260/137259592-73087132-a10d-4701-927d-6c3a9eabe89c.png)|![image](https://user-images.githubusercontent.com/58590260/137259384-c9220f41-e80b-44f4-adc6-984875ef6786.png)|

***
<br>
<img src="https://user-images.githubusercontent.com/58590260/158844014-54cf2286-20e8-4dc9-97c9-59fbb2b80786.png" width=50%><br>

**ğŸ› ï¸ ëª¨ë¸** :  DQN

**ğŸ› ï¸ Observation** : í˜„ì¬ ì²­ìƒ‰ë¶ˆ ID + [ê° laneë³„ ì°¨ëŸ‰ ëŒ€ê¸° ì‹œê°„ì˜ í•©] + [ê° laneë³„ ì •ì§€ ì°¨ëŸ‰ ëŒ€ìˆ˜]

**ğŸ› ï¸ Agent** : ì‹ í˜¸ë“±
| êµì°¨ë¡œ 2ê°œ | êµì°¨ë¡œ 6ê°œ(ì´ì²œì‹œ) |
| :------------: | :-------------: |
|![image](https://user-images.githubusercontent.com/58590260/137367516-463c14a2-0b3b-410c-9944-2742c8308d73.png)|![image](https://user-images.githubusercontent.com/58590260/137366199-4e9913d8-d964-4683-94d6-c69c670f9f21.png)|

**ğŸ› ï¸ Action**
| random traffic signal model | restricted traffic signal mode |
| :------------: | :-------------: |
| ê° ì‹ í˜¸ë“±ì˜ ì²­ì‹ í˜¸ì˜ ìˆ˜ |  0 : í˜„ì¬ ì‹ í˜¸ ìœ ì§€, 1: ë‹¤ìŒ ì²­ì‹ í˜¸ë¡œ ë³€ê²½ |
  
**ğŸ› ï¸ Reward** : ì§€ë‚˜ê°„ ì°¨ëŸ‰ ëŒ€ìˆ˜ - ì •ì§€ ì°¨ëŸ‰ ëŒ€ìˆ˜

**ğŸ› ï¸ ì¡°ê±´**
- ë„ë¡œ ë„¤íŠ¸ì›Œí¬ ë³„

| |  í•œ ì—í”¼ì†Œë“œë‹¹ ì‹œë®¬ë ˆì´ì…˜ ì§„í–‰ ì‹œê°„ | í›ˆë ¨ ì—í”¼ì†Œë“œ íšŸìˆ˜ |
| :------------: | :------------: | :-------------: |
| êµì°¨ë¡œ 2ê°œ | 3600ì´ˆ | 15000íšŒ|
| êµì°¨ë¡œ 6ê°œ(ì´ì²œì‹œ) | 18000ì´ˆ | 144íšŒ |

- ëª¨ë¸ë³„

| | random traffic signal model | restricted traffic signal mode |
| :-----------------:| :------------: | :-------------: |
| ì‹œë®¬ë ˆì´ì…˜ | ![random_ì €í™”ì§ˆ](https://user-images.githubusercontent.com/58590260/137359804-020928c3-2423-4cd4-9f84-06e627c683cb.gif) |  ![restricted_ì €í™”ì§ˆ](https://user-images.githubusercontent.com/58590260/137358485-3e230d2f-3c25-4e41-8dfc-8060bf9d1df3.gif) |
| ì‹ í˜¸ ìˆœì„œ | ë¬´ì‘ìœ„ë¡œ ì²­ìƒ‰ë¶ˆ ì‹ í˜¸ ì„ íƒí•˜ì—¬ ì§„í–‰ | ìˆœì„œëŒ€ë¡œ ì‹ í˜¸ ì§„í–‰ |
| ì ë“± ì‹œê°„ & ì£¼ê¸° | ì²­ìƒ‰ë¶ˆì˜ ìµœì†Œ, ìµœëŒ€ ì ë“± ì‹œê°„ì´ ì—†ìŒ | ê° ì‹ í˜¸ë“±ì—ëŠ” ì£¼ê¸°ê°€ ìˆìŒ |

## ğŸ“ƒ ì—°êµ¬ ê²°ê³¼
### 1ï¸âƒ£ êµì°¨ë¡œ 2ê°œ
![Untitled](https://user-images.githubusercontent.com/58590260/158837379-66ee9a1f-f248-4f21-b357-a411fd803799.png)
![Untitled (1)](https://user-images.githubusercontent.com/58590260/158837487-fdb523eb-25cc-4ed1-b590-2149727a39ed.png)
### 2ï¸âƒ£ êµì°¨ë¡œ 6ê°œ(ì´ì²œì‹œ)
![Untitled (2)](https://user-images.githubusercontent.com/58590260/158838053-f8d97819-f3fc-4b2f-922b-cbc3eaf46f23.png)
![Untitled (3)](https://user-images.githubusercontent.com/58590260/158837942-cb296926-a679-4bfa-bf61-373644b9640b.png)
### 3ï¸âƒ£ ì œì•½ì¡°ê±´ì´ ì—†ëŠ” ëª¨ë¸
![Untitled (4)](https://user-images.githubusercontent.com/58590260/158838485-b80c3f29-0e52-4623-9064-742542fd4fb6.png)
- í›ˆë ¨ì´ ì˜ ëœ ì‹ í˜¸ë“±ì€ ì§„ì… ì°¨ì„ ì˜ ì°¨ëŸ‰ì„ **ì¸ì‹**í•˜ì—¬ ë°”ë¡œ ì²­ìƒ‰ ë¶ˆ ì‹ í˜¸ë¡œ ë°”ë€œ
- ì¼ë¶€ ì‹ í˜¸ë“±ì€ **ì§„ì… ì°¨ì„ ì˜ ì°¨ëŸ‰ê³¼ ìƒê´€ì—†ì´** ì‹ í˜¸ê°€ ì˜¤ë˜ ìœ ì§€ ë˜ê³  ìˆìŒ. ë‹¤ë¥¸ ë°©í–¥ì˜ ì‹ í˜¸ë¥¼ ê³ ë ¤í•œë‹¤ë©´ ê°œì„ í•´ì•¼ í•¨.
- ì²­ìƒ‰ ë¶ˆ ì ë“± ì‹œê°„ì´ **ë„ˆë¬´ ì§§ì•„** í˜„ì‹¤ì„±ì´ ë‚®ìŒ. ë”°ë¼ì„œ **ì ë“± ì‹œê°„ ì¡°ê±´**ì„ ì¶”ê°€í•˜ë©´ ì¢‹ì€ ëª¨ë¸ë¡œ ê°œë°œ ë  ê²ƒìœ¼ë¡œ ìƒê°í•¨
### 4ï¸âƒ£ ì œì•½ì¡°ê±´ì´ ìˆëŠ” ëª¨ë¸
![image](https://user-images.githubusercontent.com/58590260/158840515-c67a3641-b508-4ce6-ac48-86cd8ad323df.png)
- ì œì•½ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ë¬´ì‘ìœ„ ì‹ í˜¸ ì„ íƒ ëª¨ë¸ì˜ ê²°ê³¼ì™€ ë¹„êµí–ˆì„ ë•Œ ë°”ë¡œ ì§ì§„ ì‹ í˜¸ë¥¼ ë°”ê¾¸ì§€ ëª»í•˜ëŠ” í•œê³„ì ì´ ë³´ì´ì§€ë§Œ, í˜„ì‹¤ ì„¸ê³„ì˜ ë„ë¡œ í™˜ê²½ì„ ê³ ë ¤í•œë‹¤ë©´ ì œì•½ ì¡°ê±´ì´ ì—†ëŠ” ëª¨ë¸ë³´ë‹¤ëŠ” **í˜„ì‹¤ì„± ìˆëŠ” ì‹ í˜¸ ì²´ê³„**ë¼ê³  ìƒê°í•¨
- **ì§„ì… ì°¨ì„ ì˜ êµí†µëŸ‰ì— ì¢€ ë” ë¹¨ë¦¬ ë°˜ì‘í•˜ëŠ” ì‹ í˜¸ ëª¨ë¸**ë¡œ ê°œì„ í•´ì•¼í•¨


